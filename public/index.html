<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bull Run Boost - Shadow Markets of the Cyber-West</title>
    <link rel="stylesheet" href="css/fonts.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="game-container">
        <!-- Game will be rendered here by Phaser -->
    </div>

    <!-- UI Elements that will appear over the game -->
    <div id="ui-container">
        <!-- Main Menu -->
        <div id="main-menu" class="screen">
            <h1>Bull Run Boost</h1>
            <h2>Shadow Markets of the Cyber-West</h2>
            
            <div class="input-group">
                <label for="player-name">Your Name:</label>
                <input type="text" id="player-name" placeholder="Enter your name" value="Cowboy">
            </div>
            
            <div class="archetype-selection">
                <h3>Choose Your Archetype:</h3>
                <div class="archetype-options">
                    <div class="archetype-card selected" data-archetype="Entrepreneur">
                        <h4>Entrepreneur</h4>
                        <div class="archetype-icon">üíº</div>
                        <p>+10% $CATTLE earning rate</p>
                    </div>
                    <div class="archetype-card" data-archetype="Adventurer">
                        <h4>Adventurer</h4>
                        <div class="archetype-icon">ü§†</div>
                        <p>+10% heist success rate</p>
                    </div>
                </div>
            </div>
            
            <button id="start-game" class="primary-button">Start Game</button>
        </div>
        
        <!-- Ranch Scene UI -->
        <div id="ranch-ui" class="screen hidden">
            <div class="header">
                <div class="time-indicator day">
                    <div class="icon">‚òÄÔ∏è</div>
                    <div class="label">Cipher Gulch - Day</div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <span class="resource-label">$CATTLE:</span>
                        <span class="resource-value" id="cattle-balance">100</span>
                    </div>
                    <div class="resource">
                        <span class="resource-label">Hay:</span>
                        <span class="resource-value" id="hay">100</span>/<span id="barn-capacity">100</span>
                    </div>
                    <div class="resource">
                        <span class="resource-label">Water:</span>
                        <span class="resource-value" id="water">100</span>/<span id="barn-capacity-2">100</span>
                    </div>
                </div>
            </div>
            
            <div class="action-panel">
                <h3>Ranch Operations</h3>
                <div class="action-buttons">
                    <button id="breed-cattle" class="action-button">
                        <span class="icon">üêÑ</span>
                        <span class="label">Breed Cattle</span>
                        <span class="cost">10 Hay, 10 Water</span>
                    </button>
                    <button id="upgrade-barn" class="action-button">
                        <span class="icon">üè†</span>
                        <span class="label">Upgrade Barn</span>
                        <span class="cost">50 $CATTLE</span>
                    </button>
                </div>
                
                <h3>Travel</h3>
                <div class="action-buttons">
                    <button id="go-to-saloon" class="action-button">
                        <span class="icon">üé∞</span>
                        <span class="label">Go to Saloon</span>
                    </button>
                    <button id="go-to-night" class="action-button">
                        <span class="icon">üåô</span>
                        <span class="label">Enter Ether Range</span>
                    </button>
                    <button id="go-to-profile-from-ranch" class="action-button">
                        <span class="icon">üë§</span>
                        <span class="label">Character Profile</span>
                    </button>
                </div>
            </div>
            
            <div class="content-grid">
                <div class="ranch-grid-panel">
                    <h3>Ranch Pasture</h3>
                    <div class="pasture-info">
                        <div>Plant and harvest in your pasture to earn resources!</div>
                        <div class="resources-earned">
                            <span class="resource-item">Hay: <span id="hay-earned">0</span></span>
                            <span class="resource-item">Water: <span id="water-earned">0</span></span>
                        </div>
                    </div>
                    <div id="ranch-grid" class="grid-container">
                        <!-- 5x5 grid will be generated by JavaScript -->
                    </div>
                    <div class="grid-controls">
                        <button id="harvest-all" class="action-button">
                            <span class="icon">üåæ</span>
                            <span class="label">Harvest All</span>
                        </button>
                        <div class="growth-timer">
                            Next growth cycle: <span id="growth-timer">60</span>s
                        </div>
                    </div>
                </div>
                
                <div class="inventory-panel">
                    <h3>Your Cattle</h3>
                    <div id="cattle-inventory" class="inventory-list">
                        <!-- Cattle inventory will be populated dynamically -->
                        <div class="empty-message">No cattle yet. Start breeding!</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Saloon Scene UI -->
        <div id="saloon-ui" class="screen hidden">
            <div class="header">
                <div class="time-indicator day">
                    <div class="icon">üé∞</div>
                    <div class="label">Cipher Gulch - Saloon</div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <span class="resource-label">$CATTLE:</span>
                        <span class="resource-value" id="saloon-cattle-balance">100</span>
                    </div>
                    <div class="resource bonus-display hidden">
                        <span class="resource-label">Bonus:</span>
                        <span class="resource-value" id="bonus-amount">+0</span> $CATTLE
                    </div>
                </div>
            </div>
            
            <div class="saloon-layout">
                <div class="race-track">
                    <h3>Horse Race</h3>
                    
                    <div class="track-container">
                        <div class="starting-line"></div>
                        <div class="finish-line"></div>
                        
                        <div id="track-hearts" class="track">
                            <div class="horse-label">‚ô•</div>
                            <div class="progress-bar">
                                <div id="hearts-progress" class="progress" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div id="track-diamonds" class="track">
                            <div class="horse-label">‚ô¶</div>
                            <div class="progress-bar">
                                <div id="diamonds-progress" class="progress" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div id="track-clubs" class="track">
                            <div class="horse-label">‚ô£</div>
                            <div class="progress-bar">
                                <div id="clubs-progress" class="progress" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div id="track-spades" class="track">
                            <div class="horse-label">‚ô†</div>
                            <div class="progress-bar">
                                <div id="spades-progress" class="progress" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="race-controls">
                        <button id="start-race" class="action-button large">
                            <span class="icon">üèÅ</span>
                            <span class="label">Start Race</span>
                        </button>
                        <button id="draw-card" class="action-button large" disabled>
                            <span class="icon">üÉè</span>
                            <span class="label">Draw Card</span>
                        </button>
                    </div>
                    
                    <div id="drawn-card" class="drawn-card">
                        <div class="card-placeholder">Draw a card to advance a horse</div>
                    </div>
                </div>
                
                <div class="betting-panel">
                    <h3>Place Your Bets</h3>
                    
                    <div class="bet-options">
                        <div class="bet-option" data-suit="hearts">
                            <div class="suit-label red">‚ô•</div>
                            <div class="bet-controls">
                                <input type="number" id="bet-hearts" class="bet-input" min="0" max="50" value="0">
                                <div class="bet-odds">Odds: <span id="odds-hearts">4.0</span>x</div>
                            </div>
                        </div>
                        
                        <div class="bet-option" data-suit="diamonds">
                            <div class="suit-label red">‚ô¶</div>
                            <div class="bet-controls">
                                <input type="number" id="bet-diamonds" class="bet-input" min="0" max="50" value="0">
                                <div class="bet-odds">Odds: <span id="odds-diamonds">4.0</span>x</div>
                            </div>
                        </div>
                        
                        <div class="bet-option" data-suit="clubs">
                            <div class="suit-label black">‚ô£</div>
                            <div class="bet-controls">
                                <input type="number" id="bet-clubs" class="bet-input" min="0" max="50" value="0">
                                <div class="bet-odds">Odds: <span id="odds-clubs">4.0</span>x</div>
                            </div>
                        </div>
                        
                        <div class="bet-option" data-suit="spades">
                            <div class="suit-label black">‚ô†</div>
                            <div class="bet-controls">
                                <input type="number" id="bet-spades" class="bet-input" min="0" max="50" value="0">
                                <div class="bet-odds">Odds: <span id="odds-spades">4.0</span>x</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bet-summary">
                        <div class="total-bet">
                            Total Bet: <span id="total-bet-amount">0</span> $CATTLE
                        </div>
                        <div class="burn-info">
                            10% (<span id="burn-amount">0</span> $CATTLE) will be burned
                        </div>
                    </div>
                    
                    <div class="claim-bonus">
                        <button id="claim-bonus" class="secondary-button">
                            <span class="icon">üéÅ</span>
                            <span class="label">Claim Bonus Tokens</span>
                        </button>
                        <div class="bonus-info">Claim 50 $CATTLE once per game session!</div>
                    </div>
                    
                    <div class="education-tip">
                        <div class="icon">üìö</div>
                        <div class="tip-content">
                            <strong>Risk/Reward:</strong> Each suit has different odds based on how many cards remain in the deck.
                            Betting on multiple horses lowers your risk but also your potential reward.
                            10% of your wager is burned, creating deflationary pressure on the token economy.
                        </div>
                    </div>
                    
                    <div class="last-results">
                        <h4>Recent Results</h4>
                        <div id="results-history" class="history-container">
                            <!-- Results will be added here -->
                        </div>
                    </div>
                    
                    <div class="navigation-menu">
                        <h4>Navigation</h4>
                        <div class="nav-buttons">
                            <button id="back-to-ranch" class="secondary-button">
                                <span class="icon">üè†</span>
                                <span class="label">Ranch</span>
                            </button>
                            <button id="go-to-night-from-saloon" class="secondary-button">
                                <span class="icon">üåô</span>
                                <span class="label">Ether Range</span>
                            </button>
                            <button id="go-to-profile" class="secondary-button">
                                <span class="icon">üë§</span>
                                <span class="label">Profile</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Profile UI -->
        <div id="profile-ui" class="screen hidden">
            <div class="header">
                <div class="time-indicator day">
                    <div class="icon">üë§</div>
                    <div class="label">Character Profile</div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <span class="resource-label">$CATTLE:</span>
                        <span class="resource-value" id="profile-cattle-balance">100</span>
                    </div>
                </div>
            </div>
            
            <div class="profile-layout">
                <div class="character-panel">
                    <h3>Your Character</h3>
                    <div class="character-customization">
                        <div class="character-preview">
                            <div class="current-character">
                                <img id="character-image" src="img/characters/the-kid.jpeg" alt="Character">
                            </div>
                        </div>
                        
                        <div class="character-info">
                            <div class="input-group">
                                <label for="character-name">Character Name:</label>
                                <input type="text" id="character-name" value="Cowboy">
                            </div>
                            
                            <div class="character-selection">
                                <h4>Choose Character Type:</h4>
                                <div class="character-options">
                                    <div class="character-option selected" data-character="the-kid">
                                        <img src="img/characters/the-kid.jpeg" alt="The Kid" class="character-thumbnail">
                                        <div class="character-name">The Kid</div>
                                    </div>
                                    <div class="character-option" data-character="the-hacker">
                                        <img src="img/characters/the-hacker.jpeg" alt="The Hacker" class="character-thumbnail">
                                        <div class="character-name">The Hacker</div>
                                    </div>
                                    <div class="character-option" data-character="the-scientist">
                                        <img src="img/characters/the-scientist.jpg" alt="The Scientist" class="character-thumbnail">
                                        <div class="character-name">The Scientist</div>
                                    </div>
                                </div>
                            </div>
                            
                            <button id="save-profile" class="primary-button">Save Changes</button>
                        </div>
                    </div>
                </div>
                
                <div class="stats-panel">
                    <h3>Player Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-label">Races Won</div>
                            <div class="stat-value" id="races-won">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Races Lost</div>
                            <div class="stat-value" id="races-lost">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Cattle Bred</div>
                            <div class="stat-value" id="cattle-bred">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Potions Crafted</div>
                            <div class="stat-value" id="potions-crafted">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Total $CATTLE Earned</div>
                            <div class="stat-value" id="total-earned">0</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Total $CATTLE Burned</div>
                            <div class="stat-value" id="total-burned">0</div>
                        </div>
                    </div>
                </div>
                
                <div class="navigation-menu">
                    <h4>Navigation</h4>
                    <div class="nav-buttons">
                        <button id="back-to-ranch-from-profile" class="secondary-button">
                            <span class="icon">üè†</span>
                            <span class="label">Ranch</span>
                        </button>
                        <button id="go-to-saloon-from-profile" class="secondary-button">
                            <span class="icon">üé∞</span>
                            <span class="label">Saloon</span>
                        </button>
                        <button id="go-to-night-from-profile" class="secondary-button">
                            <span class="icon">üåô</span>
                            <span class="label">Ether Range</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Night Market Scene UI -->
        <div id="night-ui" class="screen hidden">
            <div class="header">
                <div class="time-indicator night">
                    <div class="icon">üåô</div>
                    <div class="label">Ether Range - Night</div>
                </div>
                <div class="resources">
                    <div class="resource">
                        <span class="resource-label">$CATTLE:</span>
                        <span class="resource-value" id="night-cattle-balance">100</span>
                    </div>
                    <div class="resource">
                        <span class="resource-label">Market:</span>
                        <span class="resource-value" id="market-multiplier">1.0</span>x
                    </div>
                </div>
            </div>
            
            <div class="action-panel">
                <h3>Shadow Market</h3>
                <div class="action-buttons">
                    <button id="craft-potion" class="action-button">
                        <span class="icon">üß™</span>
                        <span class="label">Craft Shadow Potion</span>
                        <span class="cost">20 $CATTLE (50% burn)</span>
                    </button>
                </div>
                
                <div class="education-tip">
                    <div class="icon">üìö</div>
                    <div class="tip-content">
                        <strong>Market Economics:</strong> Shadow Potion prices vary based on market conditions. 
                        Crafting burns 50% of the cost, reducing overall $CATTLE supply. 
                        Timing your sales during high market periods maximizes profits.
                    </div>
                </div>
                
                <div class="navigation-menu">
                    <h4>Navigation</h4>
                    <div class="nav-buttons">
                        <button id="back-to-ranch-night" class="secondary-button">
                            <span class="icon">üè†</span>
                            <span class="label">Ranch</span>
                        </button>
                        <button id="go-to-saloon-from-night" class="secondary-button">
                            <span class="icon">üé∞</span>
                            <span class="label">Saloon</span>
                        </button>
                        <button id="go-to-profile-from-night" class="secondary-button">
                            <span class="icon">üë§</span>
                            <span class="label">Profile</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="content-grid">
                <div class="shadow-market-panel">
                    <h3>Shadow Market Laboratory</h3>
                    <div class="market-info">
                        <div>Craft and distill shadow potions in your lab to earn resources!</div>
                        <div class="resources-earned">
                            <span class="resource-item">Ether: <span id="ether-earned">0</span></span>
                            <span class="resource-item">Multiplier: <span id="market-multiplier-value">x1.0</span></span>
                        </div>
                    </div>
                    <div id="shadow-grid" class="grid-container">
                        <!-- 4x4 grid will be generated by JavaScript -->
                    </div>
                    <div class="grid-controls">
                        <button id="distill-all" class="action-button">
                            <span class="icon">‚öóÔ∏è</span>
                            <span class="label">Distill All</span>
                        </button>
                        <div class="market-cycle">
                            Market Cycle: <span id="market-cycle">Stable</span>
                        </div>
                    </div>
                </div>
                
                <div class="inventory-panel">
                    <h3>Your Potions</h3>
                    <div id="potion-inventory" class="inventory-list">
                        <!-- Potion inventory will be populated dynamically -->
                        <div class="empty-message">No potions yet. Start crafting!</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Notifications -->
        <div id="notification" class="hidden">
            <div class="content"></div>
        </div>
        
        <!-- Result Modal -->
        <div id="result-modal" class="modal hidden">
            <div class="modal-content">
                <div class="result-header">
                    <h3 id="result-title">Result</h3>
                </div>
                <div class="result-body">
                    <p id="result-message"></p>
                </div>
                <div class="result-footer">
                    <button id="close-result" class="primary-button">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Win Celebration Animation -->
    <div class="win-celebration hidden" id="win-celebration">
        <div class="win-message">Winner!</div>
        <div class="win-amount" id="win-amount">+0 $CATTLE</div>
    </div>
    
    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
    <script src="js/confetti.js"></script>
    <script src="js/game.js"></script>
</body>
</html>